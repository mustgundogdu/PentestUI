from django.urls import path, re_path, include, register_converter
from . import views

class DateConverter:
    regex = '\d{4}-\d{2}-\d{2}'

    def to_python(self, value):
        return datetime.strptime(value, '%Y-%m-%d')

    def to_url(self, value):
        return value

register_converter(DateConverter, 'yyyy')


urlpatterns = [

    # The home page
    path('', views.index, name='home'),
    path('', include('pentestui.authenticate.urls')),
    path('', include('pentestui.pentest_api.urls')),
    path(r'^(?P<date>\d{4}-\d{2}-\d{2})/$', views.resultdetail, name='resultlog'),
    path(r'Delete(?P<date>\d{4}-\d{2}-\d{2})/$', views.DeleteQuery, name='deleteto'),
    # Matches any html file
    re_path(r'^.*\.*', views.pages, name='pages'),
]
